# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

input CreatePostInput {
  """Post content"""
  content: String!

  """Post title"""
  title: String!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

input EditMeInput {
  """User email to be used on login"""
  email: String

  """User name"""
  name: String

  """User password to be used on login"""
  password: String

  """User surname"""
  surname: String
}

type FieldError {
  field: String!
  message: String!
}

input LoginUserInput {
  """User email to be used on login"""
  email: String!

  """User password to be used on login"""
  password: String
}

type Mutation {
  createPost(creatorId: ObjectId!, data: CreatePostInput!): Post!
  login(loginData: LoginUserInput!): UserResponse!
  register(data: RegisterUserInput!): UserResponse!
  updatePost(id: String!, updateData: UpdatePostInput!): Post
  updateUser(_id: ObjectId!, updateData: EditMeInput!): User
}

"""Mongo object id scalar type"""
scalar ObjectId

"""The Posts model"""
type Post {
  _id: ObjectId!

  """Post content"""
  content: String!

  """Post creation date"""
  createdAt: DateTime!
  creator: User!
  isActive: Boolean!

  """Number of likes this post has received"""
  likes: Float
  removedAt: DateTime

  """Post title"""
  title: String!

  """Post last update date"""
  updatedAt: DateTime
}

type Query {
  """Queries all posts in database"""
  findAllPosts: [Post!]!

  """Queries all users in database"""
  findAllUsers: [User!]!

  """Queries an post by providing an email. If none is found, return null."""
  findPostById(id: String!): Post

  """Queries an user by providing an email. If none is found, return null."""
  findUserByEmail(email: String!): User
  me(id: ObjectId!): User
}

input RegisterUserInput {
  """User email to be used on login"""
  email: String!

  """User name"""
  name: String!

  """User password to be used on login"""
  password: String

  """User surname"""
  surname: String
}

input UpdatePostInput {
  """Post content"""
  content: String

  """Post title"""
  title: String
}

"""The Users model"""
type User {
  _id: ObjectId!

  """User creation date"""
  createdAt: DateTime!

  """User email to be used on login"""
  email: String!
  isActive: Boolean!

  """User name"""
  name: String!
  posts: [Post!]!
  removedAt: DateTime

  """User surname"""
  surname: String

  """User last update date"""
  updatedAt: DateTime
}

type UserResponse {
  errors: [FieldError!]
  user: User
}
